<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éšæœºé€‰èœå¤§è½¬ç›˜</title>
    <!-- å¼•å…¥ Vue3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }

        /* å…¼å®¹æ€§é™çº§æ–¹æ¡ˆ */
        @supports not (width: clamp(300px, 80vw, 500px)) {
            .wheel {
                width: 80vw;
                max-width: 500px;
                min-width: 300px;
                height: 80vw;
                max-height: 500px;
                min-height: 300px;
            }
            
            .wheel-container {
                max-width: 80vw;
                max-width: 500px;
                min-width: 300px;
            }
            
            .game-container {
                max-width: 90vw;
                max-width: 600px;
                min-width: 320px;
            }
            
            .dish-text {
                font-size: 2.5vw;
                max-width: 15vw;
            }
            
            h1 {
                font-size: 6vw;
            }
            
            .start-btn {
                font-size: 4.5vw;
                padding: 3vw 8vw;
            }
        }

        body {
            background-color: #f5f5f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .game-container {
            text-align: center;
            max-width: clamp(320px, 90vw, 600px);
            width: 100%;
            padding: 0 clamp(10px, 3vw, 20px);
        }

        h1 {
            color: #333;
            margin-bottom: clamp(20px, 5vw, 30px);
            font-size: clamp(20px, 6vw, 28px);
        }

        /* å¤§è½¬ç›˜æ ·å¼ */
        .wheel-container {
            position: relative;
            width: 100%;
            max-width: clamp(300px, 80vw, 500px);
            margin: 0 auto clamp(20px, 5vw, 40px);
        }

        .wheel {
            width: clamp(300px, 80vw, 500px);
            height: clamp(300px, 80vw, 500px);
            border-radius: 50%;
            transition: transform 6s cubic-bezier(0.2, 0.8, 0.2, 1);
            /* å¹³æ»‘æ—‹è½¬åŠ¨ç”» */
            border: clamp(4px, 1.5vw, 8px) solid #fff;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            position: relative;
            background: conic-gradient(#ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57, #ff9ff3,
                    #54a0ff, #5f27cd, #00d2d3, #ff9f43, #10ac84, #ee5a24,
                    #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57, #ff9ff3,
                    #54a0ff, #5f27cd, #00d2d3, #ff9f43, #10ac84, #ee5a24);
        }

        .wheel-segment {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: 100% 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dish-text {
            position: absolute;
            left: 70%;
            top: 15%;
            transform: rotate(90deg);
            font-size: clamp(8px, 2.5vw, 11px);
            font-weight: bold;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            white-space: nowrap;
            max-width: clamp(50px, 15vw, 70px);
            overflow: hidden;
            text-overflow: ellipsis;
            text-align: center;
        }

        .wheel-pointer {
            position: absolute;
            top: clamp(-20px, -4vw, -30px);
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: clamp(15px, 3vw, 20px) solid transparent;
            border-right: clamp(15px, 3vw, 20px) solid transparent;
            border-top: clamp(25px, 6vw, 40px) solid #ff4444;
            z-index: 10;
            pointer-events: none;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }

        /* æŒ‰é’®æ ·å¼ */
        .start-btn {
            background-color: #ff4444;
            color: #fff;
            border: none;
            padding: clamp(12px, 3vw, 16px) clamp(30px, 8vw, 40px);
            font-size: clamp(16px, 4.5vw, 20px);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 0 4px 12px rgba(255, 68, 68, 0.3);
        }

        .start-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            box-shadow: none;
        }

        .start-btn:hover:not(:disabled) {
            background-color: #cc0000;
            transform: translateY(-2px);
        }

        /* ç»“æœå¼¹çª—æ ·å¼ */
        .result-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .result-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: #fff;
            padding: clamp(20px, 5vw, 40px);
            border-radius: 16px;
            max-width: clamp(280px, 85vw, 400px);
            width: 90%;
            text-align: center;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            transform: translateY(-20px);
            transition: transform 0.3s;
        }

        .result-modal.active .modal-content {
            transform: translateY(0);
        }

        .result-title {
            font-size: clamp(18px, 5vw, 24px);
            color: #333;
            margin-bottom: clamp(15px, 4vw, 20px);
        }

        .result-dish {
            font-size: clamp(20px, 6vw, 28px);
            color: #ff4444;
            font-weight: bold;
            margin: clamp(15px, 4vw, 20px) 0;
            padding: clamp(10px, 3vw, 15px);
            background-color: #fff8f8;
            border-radius: 10px;
            border: 2px dashed #ff4444;
        }

        .restart-btn {
            background-color: #2ecc71;
            color: #fff;
            border: none;
            padding: clamp(10px, 2.5vw, 12px) clamp(25px, 6vw, 32px);
            font-size: clamp(14px, 4vw, 18px);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: clamp(8px, 2vw, 10px);
        }

        .restart-btn:hover {
            background-color: #27ae60;
            transform: translateY(-2px);
        }

        /* èœå“åˆ—è¡¨æ ·å¼ï¼ˆå¯é€‰å±•ç¤ºï¼‰ */
        .dish-list {
            margin-top: clamp(20px, 5vw, 40px);
            width: 100%;
            background-color: #fff;
            border-radius: 12px;
            padding: clamp(15px, 4vw, 20px);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
        }

        .dish-list h2 {
            font-size: clamp(16px, 4.5vw, 20px);
            color: #333;
            margin-bottom: clamp(10px, 3vw, 15px);
            text-align: left;
        }

        .dish-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(clamp(120px, 30vw, 140px), 1fr));
            gap: clamp(8px, 2vw, 10px);
        }

        .dish-item {
            padding: clamp(6px, 2vw, 8px) clamp(8px, 2.5vw, 12px);
            background-color: #fafafa;
            border-radius: 6px;
            font-size: clamp(12px, 3.5vw, 14px);
            color: #666;
            text-align: left;
            border: 1px solid #eee;
        }
    </style>
</head>

<body>
    <div class="game-container" id="app">
        <h1>ğŸ½ï¸ éšæœºé€‰èœå¤§è½¬ç›˜</h1>

        <!-- å¤§è½¬ç›˜åŒºåŸŸ -->
        <div class="wheel-container">
            <div class="wheel" :style="{ transform: `rotate(${rotateDeg}deg)` }">
                <div class="wheel-segment" v-for="(dish, index) in dishList" :key="index"
                    :style="{ transform: `rotate(${index * (360 / dishList.length)}deg)` }">
                    <span class="dish-text">{{ dish }}</span>
                </div>
            </div>
            <div class="wheel-pointer"></div>
        </div>

        <!-- å¼€å§‹æŒ‰é’® -->
        <button class="start-btn" @click="startSpin" :disabled="isSpinning">
            {{ isSpinning ? 'è½¬ç›˜æ—‹è½¬ä¸­...' : 'å¼€å§‹æŠ½å¥–' }}
        </button>

        <!-- ç»“æœå¼¹çª— -->
        <div class="result-modal" :class="{ active: showResult }">
            <div class="modal-content">
                <h2 class="result-title">æ­å–œï¼ä½ æŠ½åˆ°çš„èœå“æ˜¯</h2>
                <div class="result-dish">{{ selectedDish }}</div>
                <p>ä»Šæ™šå°±åƒå®ƒå§ï¼ğŸ˜‹</p>
                <button class="restart-btn" @click="restartGame">å†æŠ½ä¸€æ¬¡</button>
            </div>
        </div>

        <!-- èœå“åˆ—è¡¨ï¼ˆå¯é€‰ï¼‰ -->
        <div class="dish-list">
            <h2>ğŸ“‹ æ‰€æœ‰å¯é€‰èœå“ï¼ˆå…±24é“ï¼‰</h2>
            <div class="dish-grid">
                <div class="dish-item" v-for="(dish, index) in dishList" :key="index">
                    {{ index + 1 }}. {{ dish }}
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;
        createApp({
            data() {
                return {
                    // 24é“èœå“åˆ—è¡¨
                    dishList: [
                        "ç•ªèŒ„åœŸè±†ç‰›è…©", "è’œè“‰èŠ±ç”²", "æ’éª¨ç‚–åœŸè±†", "å¯ä¹é¸¡ç¿…",
                        "è’œè“‰åŸºå›´è™¾", "æµ·è´ä¸ç“œæ±¤", "è‹¦ç“œç‚’è›‹", "é¦™èœç‚’ç‰›è‚‰",
                        "è¥¿çº¢æŸ¿ç‚’è›‹", "ç‚’æ—¶è”¬", "é’æ¤’è‚‰ä¸", "æœ¨è€³ç‚’è‚‰",
                        "è’œé¦™é¸¡ç¿…", "ç´ ç‚’é¦™è‡", "èŒ„å­è±†è§’", "ä¸Šæµ·é’ç‚’ç˜¦è‚‰",
                        "ä¸ç“œé¸¡è›‹æ±¤", "å’¸è›‹é»„ç½—æ°è™¾", "è±†è±‰è’¸æ’éª¨", "é¸¡çˆªçƒ§é»„è±†",
                        "çŒªè¹„é—·é¸¡çˆª", "å‰æ¤’é±¼å¤´", "ç ‚é”…ç²¥", "è’œè“‰ç²‰ä¸è™¾"
                    ],
                    rotateDeg: 0, // è½¬ç›˜æ—‹è½¬è§’åº¦
                    isSpinning: false, // æ˜¯å¦æ­£åœ¨æ—‹è½¬
                    showResult: false, // æ˜¯å¦æ˜¾ç¤ºç»“æœå¼¹çª—
                    selectedDish: "" // é€‰ä¸­çš„èœå“
                };
            },
            methods: {
                // å¼€å§‹æ—‹è½¬è½¬ç›˜
                startSpin() {
                    if (this.isSpinning) return;

                    this.isSpinning = true;
                    this.showResult = false;

                    // éšæœºè®¡ç®—æ—‹è½¬è§’åº¦ï¼š3-5åœˆï¼ˆ1080-1800åº¦ï¼‰ + éšæœºåç§»
                    const baseDeg = 360 * (3 + Math.random() * 2); // åŸºç¡€æ—‹è½¬åœˆæ•°
                    const randomOffset = Math.random() * 360; // éšæœºåç§»è§’åº¦
                    this.rotateDeg = baseDeg + randomOffset;

                    // æ—‹è½¬ç»“æŸåæ˜¾ç¤ºç»“æœï¼ˆå»¶è¿Ÿ6ç§’ï¼Œä¸åŠ¨ç”»æ—¶é—´ä¸€è‡´ï¼‰
                    setTimeout(() => {
                        // æ ¹æ®æœ€ç»ˆè§’åº¦è®¡ç®—å¯¹åº”çš„èœå“ç´¢å¼•
                        const finalAngle = this.rotateDeg % 360; // è·å–æœ€ç»ˆè§’åº¦ï¼ˆ0-360åº¦ï¼‰
                        const segmentAngle = 360 / this.dishList.length; // æ¯ä¸ªæ‰‡å½¢çš„è§’åº¦ï¼ˆ15åº¦ï¼‰
                        // ç”±äºæŒ‡é’ˆåœ¨é¡¶éƒ¨ï¼Œéœ€è¦åå‘è®¡ç®—èœå“ç´¢å¼•
                        const dishIndex = (this.dishList.length - Math.floor(finalAngle / segmentAngle)) % this.dishList.length;
                        
                        this.selectedDish = this.dishList[dishIndex];
                        this.showResult = true;
                        this.isSpinning = false;
                    }, 6000);
                },
                // é‡æ–°å¼€å§‹æ¸¸æˆ
                restartGame() {
                    window.location.reload();
                }
            }
        }).mount('#app');
    </script>
</body>

</html>